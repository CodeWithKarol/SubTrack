<app-header [totalCost]="totalCost()" />

<div class="px-4">
  <h1>Your Subscriptions</h1>
  <div class="flex gap-4 flex-wrap">
    @for (subscription of subscriptions(); track subscription.id) {
      <mat-card appearance="outlined" class="flex-1 min-w-[300px] p-6">
        <div class="flex justify-between">
          <div class="flex gap-4 items-center">
            <div>{{ subscription.logo }}</div>
            <div class="flex flex-col">
              <div>{{ subscription.name }}</div>
              <div>{{ subscription.category }}</div>
            </div>
          </div>
          <div class="flex">
            <button matIconButton (click)="editSubscription(subscription.id)">
              <mat-icon>edit</mat-icon>
            </button>
            <button matIconButton (click)="deleteSubscription(subscription.id)">
              <mat-icon>delete</mat-icon>
            </button>
          </div>
        </div>
        <div class="flex justify-between items-center mt-4">
          <div class="flex flex-col">
            <div>Cost: ${{ subscription.cost }}</div>
            <div>Billing Date: {{ subscription.billingDate }}</div>
          </div>

          <div>Status: {{ subscription.status }}</div>
        </div>
      </mat-card>
    } @empty {
      <div>No subscriptions found. Add a new subscription to get started!</div>
    }
  </div>

  <h1>Spending Overview</h1>
</div>
